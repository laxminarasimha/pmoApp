<div ng-controller="holidayListCtrl">
<form name="holidayForm" ng-submit="createHoliday(holiday)" novalidate>
<legend>Holiday List (
  <label ng-show="holiday._id!=null">Edit</label>
  <label ng-hide="holiday._id!=null">Create</label>)
</legend>
<div class="panel panel-info">
<div class="panel-heading">
 	<div class='row'>
         <div class='col-sm-4'>
          <div  class=form-group>
                 <label>Country Name:</label>
                  <select class="form-control input-sm" ng-model="holiday.locationname" class="form-control input-sm" ng-required="true">
                      <option ng-repeat="x in locationList" value="{{x.locationname}}">{{x.locationname}}</option>
                  </select>
                  
           </div>
         </div>
         
         
         <div class='col-sm-4'>
          <div  class=form-group>
                  <label>Holiday  Date: </label>
                  <input type="text" ng-model="holiday.holidayDate" id = "holidayDateID" name="holidayDate" ng-required="true" class="form-control input-sm {{errorClass}}" />
                  <!--<img src="..\assets\images\calendar-icon.png"/>-->
                  
             
          </div>
         </div>

          <div class='col-sm-4'>
            <div  class=form-group> 
                <label>Comments:</label>
                <input type="text" ng-model="holiday.comments" name="comments" ng-required="true" class="form-control" class="form-control input-sm {{errorClass}}" />
                 
            </div>
          </div>
              
    </div>

    <div class='row'>      
        <div class='col-sm-12'>
          <div align="right"> 
            <input type="submit" value="Update" ng-click="saveData(holiday)" class="btn btn-primary" ng-show="holiday._id!=null"/>
            <input type="submit" value="Create" class="btn btn-primary" ng-hide="holiday._id!=null"/>             
            <button class="btn btn-warning" ng-click="clearFields()" type="button">Clear</button>                  
          </div>
      </div>
   </div>
			 			
</div>
      


<div class="panel-body" ng-show="loading || successMsg || errorMsg">
    <div class="row" >
      <div class='col-sm-12'>
            <div class="jumbotron text-center" ng-show="loading">
              <span class="glyphicon glyphicon-repeat spinner"></span>
              <p>Loading...</p>
            </div>
            <div class="row show-hide-message" ng-show="successMsg">
              <div class="alert alert-success">{{successMsg}}</div>
            </div>
            <div class="row show-hide-message" ng-show="errorMsg">
              <div class="alert alert-danger">{{errorMsg}}</div>
            </div>
        </div>
    </div>
  </div>


<div class="panel-footer">
			
				<div class="table-responsive">
					<table class="table table-striped table-curved" cellspacing="0" width="100%">
						<thead class="bg-primary">
							<tr>
								<th>Serial No.</th>
								<th>Country name</th>
								<th>Holiday Date</th>	
                <th>Comments</th> 
								<th>Action</th>				   
							</tr>
              </thead>
              <tbody>
              <tr ng-repeat="x in mongoHolidayData">
                <td>{{ $index + 1 }}</td>
                <td>{{ x.locationname }}</td>
                <td>{{ x.holidayDate | date : "dd-MMM-yy" }} </td>
                <td>{{ x.comments }}</td>
                <td>
                      <a  ng-click="editHoliday(x._id)">Edit</a> |
                      <a  ng-click="deleteHoliday(x._id)">Delete</a>
                </td>
              </tr>
			        </tbody>
					</table>
					
				</div>
</div>

</div>

</form> 

</div>    

<script>
   $(function() {
      $( "#holidayDateID" ).datepicker({
         //appendText:"(dd-MMM-yy)",
         dateFormat:"dd-MM-yy",
         minDate: new Date(),
         beforeShowDay: $.datepicker.noWeekends
         //showOn:"button",
         //buttonImage: "/images/calendar-icon.png",
         //buttonImageOnly: true
      });
   });
</script>